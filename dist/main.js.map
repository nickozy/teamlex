{"version":3,"file":"main.js","mappings":"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","sources":["webpack://teamlex/webpack/bootstrap","webpack://teamlex/./node_modules/modujs/dist/main.esm.js","webpack://teamlex/./src/utils/environment.js","webpack://teamlex/./src/index.js"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar _default = /*#__PURE__*/function () {\n  function _default(options) {\n    _classCallCheck(this, _default);\n\n    this.mAttr = 'data-' + options.dataName;\n    this.mCaptureEvents = ['mouseenter', 'mouseleave'];\n    this.el = options.el;\n  }\n\n  _createClass(_default, [{\n    key: \"mInit\",\n    value: function mInit(modules) {\n      var _this = this;\n\n      this.modules = modules;\n      this.mCheckEventTarget = this.mCheckEventTarget.bind(this);\n\n      if (this.events) {\n        Object.keys(this.events).forEach(function (event) {\n          return _this.mAddEvent(event);\n        });\n      }\n    }\n  }, {\n    key: \"mUpdate\",\n    value: function mUpdate(modules) {\n      this.modules = modules;\n    }\n  }, {\n    key: \"mDestroy\",\n    value: function mDestroy() {\n      var _this2 = this;\n\n      if (this.events) {\n        Object.keys(this.events).forEach(function (event) {\n          return _this2.mRemoveEvent(event);\n        });\n      }\n    }\n  }, {\n    key: \"mAddEvent\",\n    value: function mAddEvent(event) {\n      var capture = this.mCaptureEvents.includes(event) ? true : false;\n      this.el.addEventListener(event, this.mCheckEventTarget, capture);\n    }\n  }, {\n    key: \"mRemoveEvent\",\n    value: function mRemoveEvent(event) {\n      var capture = this.mCaptureEvents.includes(event) ? true : false;\n      this.el.removeEventListener(event, this.mCheckEventTarget, capture);\n    }\n  }, {\n    key: \"mCheckEventTarget\",\n    value: function mCheckEventTarget(e) {\n      var event = this.events[e.type];\n\n      if (typeof event === \"string\") {\n        this[event](e);\n      } else {\n        var data = '[' + this.mAttr + ']';\n        var target = e.target;\n\n        if (this.mCaptureEvents.includes(e.type)) {\n          if (target.matches(data)) {\n            this.mCallEventMethod(e, event, target);\n          }\n        } else {\n          while (target && target !== document) {\n            if (target.matches(data)) {\n              if (this.mCallEventMethod(e, event, target) != 'undefined') {\n                break;\n              }\n            }\n\n            target = target.parentNode;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"mCallEventMethod\",\n    value: function mCallEventMethod(e, event, target) {\n      var name = target.getAttribute(this.mAttr);\n\n      if (event.hasOwnProperty(name)) {\n        var method = event[name];\n\n        if (!e.hasOwnProperty('currentTarget')) {\n          Object.defineProperty(e, 'currentTarget', {\n            value: target\n          });\n        }\n\n        if (!e.hasOwnProperty('curTarget')) {\n          Object.defineProperty(e, 'curTarget', {\n            value: target\n          }); // For IE 11\n        }\n\n        this[method](e);\n      }\n    }\n  }, {\n    key: \"$\",\n    value: function $(query, context) {\n      var classIndex = query.indexOf('.');\n      var idIndex = query.indexOf('#');\n      var attrIndex = query.indexOf('[');\n      var indexes = [classIndex, idIndex, attrIndex].filter(function (index) {\n        return index != -1;\n      });\n      var index = false;\n      var name = query;\n      var more = '';\n      var parent = this.el;\n\n      if (indexes.length) {\n        index = Math.min.apply(Math, _toConsumableArray(indexes));\n        name = query.slice(0, index);\n        more = query.slice(index);\n      }\n\n      if (_typeof(context) == 'object') {\n        parent = context;\n      }\n\n      return parent.querySelectorAll('[' + this.mAttr + '=' + name + ']' + more);\n    }\n  }, {\n    key: \"parent\",\n    value: function parent(query, context) {\n      var data = '[' + this.mAttr + '=' + query + ']';\n      var parent = context.parentNode;\n\n      while (parent && parent !== document) {\n        if (parent.matches(data)) {\n          return parent;\n        }\n\n        parent = parent.parentNode;\n      }\n    }\n  }, {\n    key: \"getData\",\n    value: function getData(name, context) {\n      var target = context || this.el;\n      return target.getAttribute(this.mAttr + '-' + name);\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(name, value, context) {\n      var target = context || this.el;\n      return target.setAttribute(this.mAttr + '-' + name, value);\n    }\n  }, {\n    key: \"call\",\n    value: function call(func, args, mod, id) {\n      var _this3 = this;\n\n      if (args && !mod) {\n        mod = args;\n        args = false;\n      }\n\n      if (this.modules[mod]) {\n        if (id) {\n          if (this.modules[mod][id]) {\n            this.modules[mod][id][func](args);\n          }\n        } else {\n          Object.keys(this.modules[mod]).forEach(function (id) {\n            _this3.modules[mod][id][func](args);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(e, mod, func, id) {\n      var _this4 = this;\n\n      if (this.modules[mod]) {\n        if (id) {\n          this.modules[mod][id].el.addEventListener(e, function (o) {\n            return func(o);\n          });\n        } else {\n          Object.keys(this.modules[mod]).forEach(function (i) {\n            _this4.modules[mod][i].el.addEventListener(e, function (o) {\n              return func(o);\n            });\n          });\n        }\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n\n  return _default;\n}();\n\nvar _default$1 = /*#__PURE__*/function () {\n  function _default(options) {\n    _classCallCheck(this, _default);\n\n    this.app;\n    this.modules = options.modules;\n    this.currentModules = {};\n    this.activeModules = {};\n    this.newModules = {};\n    this.moduleId = 0;\n  }\n\n  _createClass(_default, [{\n    key: \"init\",\n    value: function init(app, scope) {\n      var _this = this;\n\n      var container = scope || document;\n      var elements = container.querySelectorAll('*');\n\n      if (app && !this.app) {\n        this.app = app;\n      }\n\n      this.activeModules['app'] = {\n        'app': this.app\n      };\n      elements.forEach(function (el) {\n        Array.from(el.attributes).forEach(function (i) {\n          if (i.name.startsWith('data-module')) {\n            var moduleExists = false;\n            var dataName = i.name.split('-').splice(2);\n\n            var moduleName = _this.toCamel(dataName);\n\n            if (_this.modules[moduleName]) {\n              moduleExists = true;\n            } else if (_this.modules[_this.toUpper(moduleName)]) {\n              moduleName = _this.toUpper(moduleName);\n              moduleExists = true;\n            }\n\n            if (moduleExists) {\n              var options = {\n                el: el,\n                name: moduleName,\n                dataName: dataName.join('-')\n              };\n              var module = new _this.modules[moduleName](options);\n              var id = i.value;\n\n              if (!id) {\n                _this.moduleId++;\n                id = 'm' + _this.moduleId;\n                el.setAttribute(i.name, id);\n              }\n\n              _this.addActiveModule(moduleName, id, module);\n\n              var moduleId = moduleName + '-' + id;\n\n              if (scope) {\n                _this.newModules[moduleId] = module;\n              } else {\n                _this.currentModules[moduleId] = module;\n              }\n            }\n          }\n        });\n      });\n      Object.entries(this.currentModules).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            id = _ref2[0],\n            module = _ref2[1];\n\n        if (scope) {\n          var split = id.split('-');\n          var moduleName = split.shift();\n          var moduleId = split.pop();\n\n          _this.addActiveModule(moduleName, moduleId, module);\n        } else {\n          _this.initModule(module);\n        }\n      });\n    }\n  }, {\n    key: \"initModule\",\n    value: function initModule(module) {\n      module.mInit(this.activeModules);\n      module.init();\n    }\n  }, {\n    key: \"addActiveModule\",\n    value: function addActiveModule(name, id, module) {\n      if (this.activeModules[name]) {\n        Object.assign(this.activeModules[name], _defineProperty({}, id, module));\n      } else {\n        this.activeModules[name] = _defineProperty({}, id, module);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(scope) {\n      var _this2 = this;\n\n      this.init(this.app, scope);\n      Object.entries(this.currentModules).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            id = _ref4[0],\n            module = _ref4[1];\n\n        module.mUpdate(_this2.activeModules);\n      });\n      Object.entries(this.newModules).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            id = _ref6[0],\n            module = _ref6[1];\n\n        _this2.initModule(module);\n      });\n      Object.assign(this.currentModules, this.newModules);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(scope) {\n      if (scope) {\n        this.destroyScope(scope);\n      } else {\n        this.destroyModules();\n      }\n    }\n  }, {\n    key: \"destroyScope\",\n    value: function destroyScope(scope) {\n      var _this3 = this;\n\n      var elements = scope.querySelectorAll('*');\n      elements.forEach(function (el) {\n        Array.from(el.attributes).forEach(function (i) {\n          if (i.name.startsWith('data-module')) {\n            var id = i.value;\n            var dataName = i.name.split('-').splice(2);\n            var moduleName = _this3.toCamel(dataName) + '-' + id;\n            var moduleExists = false;\n\n            if (_this3.currentModules[moduleName]) {\n              moduleExists = true;\n            } else if (_this3.currentModules[_this3.toUpper(moduleName)]) {\n              moduleName = _this3.toUpper(moduleName);\n              moduleExists = true;\n            }\n\n            if (moduleExists) {\n              _this3.destroyModule(_this3.currentModules[moduleName]);\n\n              delete _this3.currentModules[moduleName];\n            }\n          }\n        });\n      });\n      this.activeModules = {};\n      this.newModules = {};\n    }\n  }, {\n    key: \"destroyModules\",\n    value: function destroyModules() {\n      var _this4 = this;\n\n      Object.entries(this.currentModules).forEach(function (_ref7) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            id = _ref8[0],\n            module = _ref8[1];\n\n        _this4.destroyModule(module);\n      });\n      this.currentModules = [];\n    }\n  }, {\n    key: \"destroyModule\",\n    value: function destroyModule(module) {\n      module.mDestroy();\n      module.destroy();\n    }\n  }, {\n    key: \"toCamel\",\n    value: function toCamel(arr) {\n      var _this5 = this;\n\n      return arr.reduce(function (a, b) {\n        return a + _this5.toUpper(b);\n      });\n    }\n  }, {\n    key: \"toUpper\",\n    value: function toUpper(str) {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n  }]);\n\n  return _default;\n}();\n\nexport default _default$1;\nexport { _default as module };\n","// const APP_NAME = \"Teamlex\";\n// const DATA_API_KEY = \".data-api\";\n\nexport const html = document.documentElement;\nexport const body = document.body;\n// const isDebug = html.hasAttribute(\"data-debug\");\n\n// // ==========================================================================\n// // GL TEST\n// // ==========================================================================\n// const canvas = document.createElement(\"canvas\");\n// let gl;\n\n// try {\n//   gl = canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\n// } catch (e) {\n//   console.error(e);\n// }\n\n// const SUPPORT_WEBGL = gl ? true : false;\n// if (!SUPPORT_WEBGL) {\n//   html.classList.add(\"has-no-webgl-support\");\n//   alert(\n//     \"Your browser does not support WebGL. Unfortunately that means you will not get the full experience from our website and miss out on cool features. We recommend you to update your browser to a modern version!\"\n//   );\n// }\n\n// const models = [];\n\n// export { APP_NAME, DATA_API_KEY, SUPPORT_WEBGL, html, body, isDebug, models };\n","import modular from \"modujs\";\nimport * as modules from \"./modules\";\nimport { html } from \"./utils/environment\";\n\nconst appHeight = () => {\n  const doc = document.documentElement;\n  doc.style.setProperty(\"--vh\", `${window.innerHeight}px`);\n};\n// window.addEventListener(\"resize\", appHeight);\nappHeight();\n\nconst app = new modular({\n  modules: modules,\n});\n\nwindow.onload = (event) => {\n  const $style = document.getElementById(\"main-css\");\n\n  if ($style) {\n    if ($style.isLoaded) {\n      init();\n    } else {\n      $style.addEventListener(\"load\", (event) => {\n        init();\n      });\n    }\n  } else {\n    console.warn('The \"main-css\" stylesheet not found');\n  }\n};\n\nfunction init() {\n  app.init(app);\n\n  html.classList.add(\"is-loaded\");\n  html.classList.add(\"is-ready\");\n  html.classList.remove(\"is-loading\");\n}\n"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_defineProperty","obj","value","_slicedToArray","arr","Array","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","_default$1","_default","options","instance","Constructor","_classCallCheck","this","app","modules","currentModules","activeModules","newModules","protoProps","scope","_this","elements","document","querySelectorAll","forEach","el","attributes","startsWith","moduleExists","dataName","split","splice","moduleName","toCamel","toUpper","join","id","setAttribute","addActiveModule","entries","_ref","_ref2","shift","pop","initModule","mInit","init","assign","_this2","_ref3","_ref4","mUpdate","_ref5","_ref6","destroyScope","destroyModules","_this3","destroyModule","_this4","_ref7","_ref8","mDestroy","destroy","_this5","reduce","a","b","str","charAt","toUpperCase","staticProps","html","documentElement","body","style","setProperty","window","innerHeight","classList","add","remove","onload","event","$style","getElementById","isLoaded","addEventListener","console","warn"],"sourceRoot":""}